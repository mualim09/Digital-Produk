(function(t){function e(e){for(var s,r,i=e[0],l=e[1],u=e[2],d=0,p=[];d<i.length;d++)r=i[d],n[r]&&p.push(n[r][0]),n[r]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);c&&c(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),o()}function o(){for(var t,e=0;e<a.length;e++){for(var o=a[e],s=!0,i=1;i<o.length;i++){var l=o[i];0!==n[l]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=o[0]))}return t}var s={},n={app:0},a=[];function r(e){if(s[e])return s[e].exports;var o=s[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=t,r.c=s,r.d=function(t,e,o){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(o,s,function(e){return t[e]}.bind(null,s));return o},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=l;a.push([0,"chunk-vendors"]),o()})({0:function(t,e,o){t.exports=o("56d7")},"56d7":function(t,e,o){"use strict";o.r(e);o("ac6a"),o("cadf"),o("551c"),o("f751"),o("097d");var s=o("2b0e"),n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("router-view"),o("notifications")],1)},a=[],r=o("2877"),i={},l=Object(r["a"])(i,n,a,!1,null,null,null),u=l.exports,c=o("2f62");o("9fb0");s["default"].use(c["a"]);var d=new c["a"].Store({state:{course:{}},getters:{course:function(t){return t.course}},mutations:{},actions:{}}),p=d,m=o("8c4f"),f=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",{staticClass:"auth",style:t.bgStyles},[o("el-col",{attrs:{xs:20,sm:12,md:12,lg:8,xl:6}},[t.course.logo?o("el-row",{staticClass:"auth-logo"},[o("img",{attrs:{src:t.course.logo,alt:"Logo"}})]):t._e(),o("el-row",{staticClass:"auth-form"},[o("div",{staticClass:"title"},[t._v("Login to the members area")]),o("el-input",{attrs:{placeholder:"Your email"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),o("el-input",{attrs:{type:"password",placeholder:"Password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),o("el-button",{attrs:{loading:t.loading,disabled:t.loading,type:"success"},on:{click:t.login}},[t._v("\n        LOGIN\n      ")]),o("router-link",{staticClass:"not-a-member",attrs:{to:"/reset-passwd"}},[o("img",{attrs:{src:"/lock-gray.png",alt:"lock image"}}),t._v("\n          forgot your password?\n      ")])],1)],1)],1)},h=[],g=(o("6762"),o("2fdb"),o("cebc")),y={data:function(){return{loading:!1,form:{email:"",password:""}}},computed:Object(g["a"])({},Object(c["b"])(["course"]),{bgStyles:function(){var t=this.course["auth-background"];return t.includes("http")?{"background-image":'url("'.concat(t,'")')}:{}},token:function(){return this.$route.query.token}}),mounted:function(){try{var t=JSON.parse(atob(this.token));t.email?(this.form.email=t.email,this.form.password=t.email,this.login()):this.$notify({type:"error",text:"Invalid token",duration:2e3})}catch(e){}},methods:{login:function(){var t=this;this.loading=!0,window.http.post("/login",this.form).then(function(e){"success"===e.data.status?(localStorage.setItem("jwtToken",e.data.token),t.$router.push("/module-1")):t.$notify({type:"error",text:e.data.message,duration:2e3})}).catch(function(e){t.$notify({type:"error",text:e.data.message,duration:2e3})}).then(function(){t.loading=!1})}}},b=y,v=Object(r["a"])(b,f,h,!1,null,null,null),w=v.exports,k=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",{staticClass:"auth",style:t.bgStyles},[o("el-col",{attrs:{xs:20,sm:12,md:12,lg:8,xl:6}},[t.course.logo?o("el-row",{staticClass:"auth-logo"},[o("img",{attrs:{src:t.course.logo,alt:"Logo"}})]):t._e(),o("el-row",{staticClass:"auth-form"},[o("div",{staticClass:"title"},[t._v("Please enter email of your account,\n                we will send you an email with url to reset password")]),o("el-input",{attrs:{placeholder:"Your email"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.reset(e)}},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),o("el-button",{attrs:{loading:t.loading,disabled:t.loading,type:"success"},on:{click:t.reset}},[t._v("\n                SUBMIT\n            ")])],1)],1)],1)},x=[],$={data:function(){return{loading:!1,form:{email:""}}},computed:Object(g["a"])({},Object(c["b"])(["course"]),{bgStyles:function(){var t=this.course["auth-background"];return t.includes("http")?{"background-image":'url("'.concat(t,'")')}:{}}}),methods:{reset:function(){var t=this;this.loading=!0,window.http.post("/reset-passwd",this.form).then(function(e){"success"===e.data.status?t.$notify({type:"success",text:"We have sent you an email with reset password instructions. Please check your inbox.",duration:2e3}):t.$notify({type:"error",text:e.data.message,duration:2e3})}).catch(function(e){t.$notify({type:"error",text:e.data.message,duration:2e3})}).then(function(){t.loading=!1})}}},_=$,I=Object(r["a"])(_,k,x,!1,null,null,null),C=I.exports,O=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",{staticClass:"auth",style:t.bgStyles},[o("el-col",{attrs:{xs:20,sm:12,md:12,lg:8,xl:6}},[t.course.logo?o("el-row",{staticClass:"auth-logo"},[o("img",{attrs:{src:t.course.logo,alt:"Logo"}})]):t._e(),o("el-row",{staticClass:"auth-form"},[o("div",{staticClass:"title"},[t._v("Change your password")]),o("el-input",{attrs:{type:"password",placeholder:"New password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),o("el-input",{attrs:{type:"password",placeholder:"Confirm password"},model:{value:t.form.confirm,callback:function(e){t.$set(t.form,"confirm",e)},expression:"form.confirm"}}),o("el-button",{attrs:{loading:t.loading,disabled:t.loading,type:"success"},on:{click:t.change}},[t._v("\n                SUBMIT\n            ")])],1)],1)],1)},j=[],S={data:function(){return{loading:!1,form:{password:"",confirm:""}}},computed:Object(g["a"])({},Object(c["b"])(["course"]),{bgStyles:function(){var t=this.course["auth-background"];return t.includes("http")?{"background-image":'url("'.concat(t,'")')}:{}}}),mounted:function(){this.$route.query.token||this.$router.push("/login"),this.form.token=this.$route.query.token},methods:{change:function(){var t=this;this.loading=!0,window.http.post("/change-passwd",this.form).then(function(e){"success"===e.data.status?(t.$notify({type:"success",text:"Your password is success change please login again",duration:2e3}),t.$router.push("/login")):t.$notify({type:"error",text:e.data.message,duration:2e3})}).catch(function(e){t.$notify({type:"error",text:e.data.message,duration:2e3})}).then(function(){t.loading=!1})}}},T=S,E=Object(r["a"])(T,O,j,!1,null,null,null),P=E.exports,M=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",{staticClass:"auth",style:t.bgStyles},[o("el-col",{attrs:{xs:20,sm:12,md:12,lg:8,xl:6}},[t.course.logo?o("el-row",{staticClass:"auth-logo"},[o("img",{attrs:{src:t.course.logo,alt:"Logo"}})]):t._e(),o("el-row",{staticClass:"auth-form"},[o("div",{staticClass:"title"},[t._v("Create your account")]),o("el-input",{attrs:{placeholder:"Your name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),o("el-input",{attrs:{placeholder:"Email"},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}}),o("el-input",{attrs:{type:"password",placeholder:"Password"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.registration(e)}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),o("el-button",{attrs:{type:"success"},on:{click:t.registration}},[t._v("REGISTRATION")])],1),o("router-link",{staticClass:"not-a-member",attrs:{to:"/login"}},[o("img",{attrs:{src:"/lock-gray.png",alt:"lock image"}}),t._v("\n      already have an account?\n    ")])],1)],1)},L=[],N=o("1a30"),R=o.n(N),q={data:function(){return{loading:!1,form:{name:"",email:"",password:""}}},computed:Object(g["a"])({},Object(c["b"])(["course"]),{bgStyles:function(){var t=this.course["auth-background"];return t.includes("http")?{"background-image":'url("'.concat(t,'")')}:{}}}),mounted:function(){var t=new R.a("",10),e=t.encode(window.courseId);e!==this.$route.query.secret&&this.$router.push("/login")},methods:{registration:function(){var t=this;this.loading=!0,window.http.post("/registration",this.form).then(function(e){"success"===e.data.status?(t.$notify({type:"success",text:"Registration successful",duration:2e3}),t.$router.push("/login")):t.$notify({type:"error",text:e.data.message,duration:2e3})}).catch(function(e){t.$notify({type:"error",text:e.data.message,duration:2e3})}).then(function(){t.loading=!1})}}},A=q,U=Object(r["a"])(A,M,L,!1,null,null,null),B=U.exports,G=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",[o("el-aside",[t.course.logo?o("div",{staticClass:"logo"},[o("img",{attrs:{src:t.course.logo,alt:"Logo"}})]):t._e(),o("el-collapse",{attrs:{accordion:""},model:{value:t.sidebar,callback:function(e){t.sidebar=e},expression:"sidebar"}},t._l(t.course.modules,function(e,s){return o("el-collapse-item",{key:s,attrs:{name:"module-"+(s+1),title:e.title}},t._l(e.steps,function(e,n){return o("router-link",{key:n,attrs:{to:"/module-"+(s+1)+"/step-"+(n+1)}},[t._v("\n            "+t._s(e.title)+"\n          ")])}),1)}),1),t.isEmbed?t._e():o("el-row",{staticClass:"logout"},[o("el-col",[o("router-link",{attrs:{to:"/account"}},[o("el-button",{attrs:{plain:"",round:""}},[t._v("Account")])],1)],1),o("el-col",[o("router-link",{attrs:{to:"/logout"}},[o("el-button",{attrs:{plain:"",round:""}},[t._v("Logout")])],1)],1)],1)],1),o("el-main",[o("el-row",[o("el-col",{attrs:{xs:24,sm:24,md:20,lg:20,xl:18}},[o("div",{staticClass:"course"},[o("div",{staticClass:"title"},[t._v(t._s(t.step.title))]),t.step.video&&t.videoIsUrl?o("div",{staticClass:"video"},[o("iframe",{attrs:{src:t.step.video,width:"560",height:"315",frameborder:"0",allowfullscreen:""}})]):o("div",{staticClass:"video-block",domProps:{innerHTML:t._s(t.step.video)}}),"<p></p>"!==t.step.description&&""!==t.step.description?o("div",{staticClass:"description",domProps:{innerHTML:t._s(t.step.description)}}):t._e()])])],1),o("div",{staticClass:"nav-buttons"},[o("el-button",{attrs:{type:"success",round:""},on:{click:t.prevStep}},[t._v("Previous")]),t.stepIndex<t.lastStepIndex||t.moduleIndex<t.lastModuleIndex?o("el-button",{attrs:{type:"primary",round:""},on:{click:t.nextStep}},[t._v("\n          Next Lesson\n        ")]):t._e()],1)],1)],1)},Y=[],H=(o("a481"),o("70f1")),J=o.n(H),D=o("92c9"),W=o.n(D),X={data:function(){return{sidebar:[this.$route.params.module]}},created:function(){var t=this.$route.params,e=t.module,o=t.step;e.includes("module-")||this.$router.push("/module-1/step-1"),o||this.$router.push("/".concat(this.$route.params.module,"/step-1")),(this.moduleIndex<0||this.moduleIndex>this.lastModuleIndex)&&(console.log(this.moduleIndex,this.lastModuleIndex),this.$router.push("/module-1/step-1")),(this.stepIndex<0||this.stepIndex>this.lastStepIndex)&&this.$router.push("/".concat(this.$route.params.module,"/step-1"))},computed:Object(g["a"])({},Object(c["b"])(["course"]),{isEmbed:function(){return this.course.mode&&"hash"===this.course.mode},moduleIndex:function(){var t=this.$route.params.module;return J()(t.replace("module-",""),10)-1},stepIndex:function(){var t=this.$route.params.step;return J()(t.replace("step-",""),10)-1},module:function(){return this.course.modules[this.moduleIndex]},step:function(){return this.module.steps[this.stepIndex]},lastModuleIndex:function(){return this.course.modules.length-1},lastStepIndex:function(){return this.module.steps?this.module.steps.length-1:0},videoIsUrl:function(){return W()(this.step.video)}}),beforeRouteUpdate:function(t,e,o){this.sidebar=[t.params.module],o()},methods:{prevStep:function(){if(this.stepIndex>0)this.$router.push("/".concat(this.$route.params.module,"/step-").concat(this.stepIndex));else if(this.moduleIndex>0){var t=this.moduleIndex;this.$router.push("/module-".concat(t,"/step-").concat(this.course.modules[t-1].steps.length))}},nextStep:function(){this.stepIndex<this.lastStepIndex?this.$router.push("/".concat(this.$route.params.module,"/step-").concat(this.stepIndex+2)):this.moduleIndex<this.lastModuleIndex&&this.$router.push("/module-".concat(this.moduleIndex+2,"/step-1"))}}},z=X,F=Object(r["a"])(z,G,Y,!1,null,null,null),K=F.exports,Q=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-container",[o("el-main",[o("router-link",{staticClass:"back-to-main",attrs:{to:"/"}},[o("el-button",{attrs:{plain:"",round:""}},[t._v("Back")])],1),o("el-row",{staticClass:"account-form"},[o("div",{staticClass:"title"},[t._v("Change your password")]),o("el-input",{attrs:{type:"password",placeholder:"New password"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}}),o("el-input",{attrs:{type:"password",placeholder:"Confirm password"},model:{value:t.form.confirm,callback:function(e){t.$set(t.form,"confirm",e)},expression:"form.confirm"}}),o("el-button",{attrs:{loading:t.loading,disabled:t.loading,type:"success"},on:{click:t.change}},[t._v("\n        SUBMIT\n      ")])],1)],1)],1)},V=[],Z={data:function(){return{loading:!1,form:{password:"",confirm:""}}},methods:{change:function(){var t=this;this.loading=!0,this.form.token=localStorage.getItem("jwtToken"),window.http.post("/update-passwd",this.form).then(function(e){"success"===e.data.status?t.$notify({type:"success",text:"Your password is success change",duration:2e3}):t.$notify({type:"error",text:e.data.message,duration:2e3})}).catch(function(e){t.$notify({type:"error",text:e.data.message,duration:2e3})}).then(function(){t.loading=!1})}}},tt=Z,et=Object(r["a"])(tt,Q,V,!1,null,null,null),ot=et.exports;function st(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"history",e=new m["a"]({mode:t,base:"/",routes:[{path:"/account",component:ot,meta:{auth:!0}},{path:"/logout",meta:{logout:!0}},{path:"/login",component:w,meta:{auth:!1}},{path:"/reset-passwd",component:C,meta:{auth:!1}},{path:"/change-passwd",component:P,meta:{auth:!1}},{path:"/registration",component:B,meta:{auth:!1}},{path:"/:module/:step?",component:K,meta:{auth:!0}},{path:"/",redirect:"/login"}]});return e.beforeEach(function(t,e,o){if(t.matched.some(function(t){return Object.prototype.hasOwnProperty.call(t.meta,"logout")}))return localStorage.removeItem("jwtToken"),o("/login");if(void 0!==t.query.token&&localStorage.getItem("jwtToken"))try{var s=JSON.parse(atob(t.query.token));if(void 0!==s.logout&&!0===s.logout)return localStorage.removeItem("jwtToken"),o()}catch(a){}if(t.matched.some(function(t){return Object.prototype.hasOwnProperty.call(t.meta,"auth")})){var n=localStorage.getItem("jwtToken");if(t.meta.auth&&!n)return o("/login");if(!t.meta.auth&&n)return o("/module-1")}return o()}),e}s["default"].use(m["a"]);var nt=o("5c96"),at=o("ee98"),rt=o.n(at),it=(o("b20f"),o("0fae"),o("795b")),lt=o.n(it),ut=o("bc3a"),ct=o.n(ut),dt="".concat("https://api-member.memberapp.io/api","/courses/").concat(window.courseId,"/members"),pt={baseURL:dt,headers:{Accept:"application/json","Content-Type":"application/json"}},mt=function(){localStorage.removeItem("jwtToken"),st.push("/login")},ft=ct.a.create(pt);ft.interceptors.response.use(function(t){return t},function(t){switch(t.response.status){case 401:case 403:case 404:mt();break;default:break}return lt.a.reject(t)});var ht=ft;function gt(t,e){var o=new XMLHttpRequest;o.open("GET",t,!0),o.responseType="json",o.onload=function(){var t=o.status;e(200===t?null:t,o.response)},o.send()}window.http=ht,s["default"].use(nt["Container"]),s["default"].use(nt["Row"]),s["default"].use(nt["Col"]),s["default"].use(nt["Aside"]),s["default"].use(nt["Main"]),s["default"].use(nt["Input"]),s["default"].use(nt["Button"]),s["default"].use(nt["Collapse"]),s["default"].use(nt["CollapseItem"]),s["default"].use(rt.a),s["default"].config.productionTip=!1,s["default"].prototype.$globalBus=new s["default"];var yt="".concat(window.jsonPrefix,"course.json?t=").concat(window.publishDate);gt(yt,function(t,e){if(null===t){s["default"].set(p.state,"course",e),p.state.course.theme.forEach(function(t,e){document.body.style.setProperty("--theme-color-".concat(e+1),t)});var o=localStorage.getItem("jwtToken");o&&"hash"!==e.mode&&window.http.post("/me",{token:o}).then(function(){}).catch(function(){console.log("DONT CHANGE LOCALSTORAGE")}),"hash"===e.mode&&localStorage.setItem("jwtToken","embed"),new s["default"]({router:st("hash"===e.mode?"hash":"history"),store:p,render:function(t){return t(u)}}).$mount("#app")}})},"9fb0":function(t,e){},b20f:function(t,e,o){}});
//# sourceMappingURL=app.33a34e18.js.map